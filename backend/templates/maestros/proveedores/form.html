{% extends "base.html" %}
{% block title %}Proveedor{% endblock %}

{% block content %}

{% if modo == "crear" %}
<h1 class="text-3xl font-bold text-slate-800 mb-6">➕ Nuevo Proveedor</h1>
{% else %}
<h1 class="text-3xl font-bold text-slate-800 mb-6">✏️ Editar Proveedor</h1>
{% endif %}

<div class="bg-white shadow-xl rounded-xl p-8 border border-slate-200 max-w-2xl">

    <form method="POST">
        {% csrf_token %}

        <!-- Mostrar errores -->
        {% if form.errors %}
        <div class="bg-red-100 border border-red-300 text-red-800 px-4 py-3 rounded mb-6">
            <ul class="list-disc ml-5">
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                    <li><b>{{ field|capfirst }}:</b> {{ error }}</li>
                    {% endfor %}
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <div>
                <label class="block text-slate-700 font-semibold mb-2">Nombre</label>
                <input type="text" name="nombre" value="{{ form.nombre.value|default:'' }}"
                       class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
            </div>

            <div>
                <label class="block text-slate-700 font-semibold mb-2">RTN</label>
                <input type="text" name="rtn" value="{{ form.rtn.value|default:'' }}"
                       class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
            </div>

        </div>

        <div class="mt-6">
            <label class="block text-slate-700 font-semibold mb-2">Dirección</label>
            <input type="text" name="direccion" value="{{ form.direccion.value|default:'' }}"
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">

            <div>
                <label class="block text-slate-700 font-semibold mb-2">Teléfono</label>
                <input type="text" name="telefono" value="{{ form.telefono.value|default:'' }}"
                       class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
            </div>

            <div>
                <label class="block text-slate-700 font-semibold mb-2">Email</label>
                <input type="email" name="email" value="{{ form.email.value|default:'' }}"
                       class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
            </div>

        </div>

        <div class="mt-6">
            <label class="block text-slate-700 font-semibold mb-2">Contacto</label>
            <input type="text" name="contacto" value="{{ form.contacto.value|default:'' }}"
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
        </div>

        <div class="mt-6 flex items-center gap-3">
            <input type="checkbox" name="estado"
                   {% if form.estado.value %}checked{% endif %}
                   class="h-5 w-5">
            <label class="text-slate-700 font-semibold">Activo</label>
        </div>

        <div class="flex justify-end gap-3 mt-10">
            <a href="{% url 'maestros:proveedores_lista' %}"
               class="px-4 py-2 bg-slate-300 text-slate-900 rounded-lg hover:bg-slate-400 transition">
                Cancelar
            </a>

            <button type="submit"
                    class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-500 transition">
                Guardar
            </button>
        </div>

    </form>
</div>

{% endblock %}
