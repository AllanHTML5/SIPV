<!-- templates/inventario/partials/stock_table.html -->
<table class="w-full text-sm">
  <thead class="text-left text-slate-500">
    <tr>
      <th>Producto</th>
      <th>Código</th>
      <th class="text-right">Mín</th>
      <th class="text-right">Stock</th>
    </tr>
  </thead>
  <tbody>
    {% for p in page.object_list %}
      <tr class="border-t">
        <td class="py-2">{{ p.nombre }}</td>
        <td class="text-slate-500">{{ p.codigo_barras|default:"—" }}</td>
        <td class="text-right tabular-nums">{{ p.stock_minimo }}</td>
        <td class="text-right tabular-nums {% if p.stock and p.stock < p.stock_minimo %}text-red-600 font-semibold{% endif %}">
          {{ p.stock|default:"0" }}
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="4" class="py-3 text-slate-500">Sin resultados</td></tr>
    {% endfor %}
  </tbody>
</table>

<div class="flex items-center justify-between mt-3">
  <div class="text-sm text-slate-500">Página {{ page.number }} de {{ page.paginator.num_pages }}</div>
  <div class="space-x-2">
    {% if page.has_previous %}
      <button class="px-2 py-1 border rounded"
              hx-get="{% url 'inventario:stock_table_partial' %}?page={{ page.previous_page_number }}&ordering={{ ordering }}"
              hx-target="#stock-table">Anterior</button>
    {% endif %}
    {% if page.has_next %}
      <button class="px-2 py-1 border rounded"
              hx-get="{% url 'inventario:stock_table_partial' %}?page={{ page.next_page_number }}&ordering={{ ordering }}"
              hx-target="#stock-table">Siguiente</button>
    {% endif %}
  </div>
</div>

